!function(){var t,s={init:function(){var t=document.querySelectorAll("[sortable_group]");Array.prototype.forEach.call(t,function(r,t){var e,o,a,n,l,i=r.querySelector("[sortable_form_template]"),c=!1;i&&(a=i.innerHTML,(o=r.getAttribute("sortable_replace"))?(e=document.querySelector(o),(o=document.createElement("div")).id="sortable_form_"+t,o.innerHTML=a,e.parentNode.replaceChild(o,e)&&(c=o.id)):(i.insertAdjacentHTML("afterend",a),c=!0)),c&&((a="string"==typeof c?document.querySelector("#"+c):r)?(a=(c=a.querySelector("[sortable_form_controls]")).querySelector('select[name="sort_choice"]'))?(l=(n=a.querySelector("[selected]")).hasAttribute("sortable_dir")?n.getAttribute("sortable_dir"):"asc",s.sortList(r,n.value,l),a.addEventListener("change",function(t){t.preventDefault();var e=this.options[this.selectedIndex],t=e.hasAttribute("sortable_dir")?e.getAttribute("sortable_dir"):"asc";return s.sortList(r,e.value,t),!1})):(l=(n=c.querySelector("[sortable_choice][checked]")).hasAttribute("sortable_dir")?n.getAttribute("sortable_dir"):"asc",s.sortList(r,n.value,l),c=c.querySelectorAll("[sortable_choice]"),Array.prototype.forEach.call(c,function(t,e){t.addEventListener("change",function(t){t.preventDefault();t=this.hasAttribute("sortable_dir")?this.getAttribute("sortable_dir"):"asc";return s.sortList(r,this.value,t),!1})})):console.error("Could not find form."))})},sortList:function(t,n,o){t=t.querySelectorAll("[sortable_list]");Array.prototype.forEach.call(t,function(r,t){var e=r.querySelectorAll("[sortable_item]");Array.prototype.forEach.call(e,function(t,e){var r=t.querySelectorAll("[sortable_index]"),o="",a="";Array.prototype.forEach.call(r,function(t,e){t.getAttribute("sortable_index_name")==n?o=t.textContent:a+=t.textContent+" "});r=o+" "+a;r=(r=r.toLowerCase().trim()).replace(/\s{2,}/g,""),t.setAttribute("sortable_index_string",r)});e=Array.prototype.slice.call(e,0);e.sort(function(t,e){t=t.getAttribute("sortable_index_string"),e=e.getAttribute("sortable_index_string");return t<e?-1:e<t?1:0}),"desc"==o&&e.reverse(),Array.prototype.forEach.call(e,function(t,e){r.appendChild(t)})})}};t=s.init,(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)}();