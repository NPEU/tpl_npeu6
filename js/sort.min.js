!function(){var t,c={init:function(){var t=document.querySelectorAll("[sortable_group]");Array.prototype.forEach.call(t,function(r,t){var e,o,n,a=r.querySelector("[sortable_form_template]"),l=!1;a&&(n=a.innerHTML,(o=r.getAttribute("sortable_replace"))?(e=document.querySelector(o),(o=document.createElement("div")).id="sortable_form_"+t,o.innerHTML=n,e.parentNode.replaceChild(o,e)&&(l=o.id)):(a.insertAdjacentHTML("afterend",n),l=!0)),l&&((n="string"==typeof l?document.querySelector("#"+l):r)?(n=(l=(a=r.querySelector("[sortable_form_controls]")).querySelector("[sortable_choice][checked]")).hasAttribute("sortable_dir")?l.getAttribute("sortable_dir"):"asc",c.sortList(r,l.value,n),a=a.querySelectorAll("[sortable_choice]"),Array.prototype.forEach.call(a,function(t,e){t.addEventListener("change",function(t){t.preventDefault();t=this.hasAttribute("sortable_dir")?this.getAttribute("sortable_dir"):"asc";return c.sortList(r,this.value,t),!1})})):console.error("Could not find form."))})},sortList:function(t,a,o){console.log(o);t=t.querySelectorAll("[sortable_list]");Array.prototype.forEach.call(t,function(r,t){var e=r.querySelectorAll("[sortable_item]");Array.prototype.forEach.call(e,function(t,e){var r=t.querySelectorAll("[sortable_index]"),o="",n="";Array.prototype.forEach.call(r,function(t,e){t.getAttribute("sortable_index_name")==a?o=t.textContent:n+=t.textContent+" "});r=o+" "+n;r=(r=r.toLowerCase().trim()).replace(/\s{2,}/g,""),t.setAttribute("sortable_index_string",r)});e=Array.prototype.slice.call(e,0);e.sort(function(t,e){t=t.getAttribute("sortable_index_string"),e=e.getAttribute("sortable_index_string");return t<e?-1:e<t?1:0}),"desc"==o&&e.reverse(),Array.prototype.forEach.call(e,function(t,e){r.appendChild(t)})})}};t=c.init,(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)}();