!function(){var t,c={init:function(){var t=document.querySelectorAll("[sortable_group]");Array.prototype.forEach.call(t,function(r,t){var e,o,n,l=r.querySelector("[sortable_form_template]"),a=!1;l&&(n=l.innerHTML,(o=r.getAttribute("sortable_replace"))?(e=document.querySelector(o),(o=document.createElement("div")).id="sortable_form_"+t,o.innerHTML=n,e.parentNode.replaceChild(o,e)&&(a=o.id)):(l.insertAdjacentHTML("afterend",n),a=!0)),a&&((n="string"==typeof a?document.querySelector("#"+a):r)?(n=(a=r.querySelector("[sortable_form_controls]")).querySelector("[sortable_choice][checked]"),c.sortList(r,n.value),a=a.querySelectorAll("[sortable_choice]"),Array.prototype.forEach.call(a,function(t,e){t.addEventListener("change",function(t){return t.preventDefault(),c.sortList(r,this.value),!1})})):console.error("Could not find form."))})},sortList:function(t,l){t=t.querySelectorAll("[sortable_list]");Array.prototype.forEach.call(t,function(r,t){var e=r.querySelectorAll("[sortable_item]");Array.prototype.forEach.call(e,function(t,e){var r=t.querySelectorAll("[sortable_index]"),o="",n="";Array.prototype.forEach.call(r,function(t,e){t.getAttribute("sortable_index_name")==l?o=t.textContent:n+=t.textContent+" "});r=o+" "+n;r=(r=r.toLowerCase().trim()).replace(/\s{2,}/g,""),t.setAttribute("sortable_index_string",r)});e=Array.prototype.slice.call(e,0);e.sort(function(t,e){return t.getAttribute("sortable_index_string")<e.getAttribute("sortable_index_string")?-1:t.getAttribute("sortable_index_string")>e.getAttribute("sortable_index_string")?1:0}),Array.prototype.forEach.call(e,function(t,e){r.appendChild(t)})})}};t=c.init,(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t)}();